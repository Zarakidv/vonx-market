<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VonxBlockchain Market</title>

 
  <link rel="shortcut icon" href="Drc20-Token/Vonx.png" type="image/svg+xml">

  <!-- 
    - custom css link
  -->
  <link rel="stylesheet" href="./assets/css/style.css">
  <link rel="stylesheet" href="style.css">

  <!-- 
    - google font link
  -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
</head>

<body>

  <!-- 
    - #HEADER
  -->

  <header class="header" >
    <div class="container">

      <a href="#" class="logo">
        <img src="Drc20-Token/Vonx.png" width="35" height="35" alt="VonxBlockchain logo">
        VonxBlockchain
      </a>

      <nav class="navbar" data-navbar>
        <ul class="navbar-list">
           
          <li class="navbar-item">
            <a href="index.html" class="navbar-link active" data-nav-link>HomePage</a>
          </li>
        

          <li class="navbar-item">
            <a href="#" class="navbar-link" data-nav-link>Buy Vonx</a>
          </li>

          <li class="navbar-item">
            <a href="#" class="navbar-link" data-nav-link>VonxBlockchain</a>
          </li>

     

        </ul>
      </nav>

      <button class="nav-toggle-btn" aria-label="Toggle menu" data-nav-toggler>
        <span class="line line-1"></span>
        <span class="line line-2"></span>
        <span class="line line-3"></span>
      </button>



    </div>
  </header>




  <main>
    <article>
 

   

     
      <!-- 
        - #MARKET
      -->

      <section id="market" class="section market" aria-label="market update" >
        <div class="container">

          <div class="title-wrapper">
            <h2 class="h2 section-title">Market Update</h2>

<!--             <a href="allcoins.html" class="btn-link">See All Coins</a> -->
          </div>

          <div class="market-tab">

          
            <table class="market-table" id="tokenBody">

              <thead class="table-head">

                <tr class="table-row table-title">


                  <th class="table-heading" scope="col">#</th>
                

                  <th class="table-heading" scope="col">Name</th>

                  <th class="table-heading" scope="col">Last Price</th>

                  <th class="table-heading" scope="col">24h %</th>

                  <th class="table-heading" scope="col">Market Cap</th>

                 

                  <th class="table-heading"></th>

                </tr>

              </thead>

              <tbody class="table-body" id="tokenData">

            
              </tbody>

            </table>

          </div>


        </div>
      </section>

      <script>
        document.addEventListener('DOMContentLoaded', () => {
  const tableBody = document.getElementById('tokenBody');
  let counter = 1;

  fetch('https://api.coinranking.com/v2/coins?tags[]=drc-20')
    .then(response => response.json())
    .then(data => {
      const tokens = data.data.coins; 
      console.log(tokens);

      tokens.sort((a, b) => b.price - a.price);
      
      tokens.forEach(token => {
        const {symbol, price, marketCap, change, iconUrl, icoUrl } = token;

        const formattedPrice = parseFloat(price).toFixed(3);

        const row = document.createElement('tr');
        const changeColor = change >= 0 ? 'green' : 'red';
        
        row.innerHTML = `
        <th class="table-data rank" scope="row">${counter}</th>
        <td class="table-data">
                    <div class="wrapper">
                      <img src="${iconUrl}" width="40" height="40" alt="Vonx logo" class="img">

                      <h3>
                        <a href="#" class="coin-name">${symbol}  </a>
                      </h3>
                    </div>
                  </td>
                  <td class="table-data last-price">$${!isNaN(formattedPrice) ? formattedPrice : 'Not Available'   } </td>
        
                  <td class="table-data market-cap">$${marketCap !== null ? marketCap : 'Not Available' }</td>
                  <td class="table-data last-update" style="color: ${changeColor};" >${change  !== null ? change : 'Not Available'}%</td>
          `

        
        tableBody.appendChild(row);
        counter++;
      });
    })
    .catch(error => console.error('Error fetching data:', error));
});
      </script>



    </article>
  </main>





  <!-- 
    - #FOOTER
  -->

  <footer class="footer">


    <div class="footer-bottom">
      <div class="container">

        <p class="copyright">
          &copy; 2023 Vonx All Rights Reserved by <a href="#" class="copyright-link">VonxBlockchain</a>
        </p>

        

      </div>
    </div>

  </footer>






</body>

</html>
