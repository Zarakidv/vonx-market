<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Crypto Tokens</title>

  <style>
    table {
  border-collapse: collapse;
  width: 100%;
}

th, td {
  border: 1px solid #ddd;
  padding: 8px;
  text-align: left;
  
}

th {
  background-color: #f2f2f2;
}
  </style>
</head>
<body>
  <div class="container">
    <div class="side-box">
      <div class="numbers">
        <!-- Numbers will be added here dynamically -->
      </div>
    </div>
    <table id="tokenTable">
      <thead>
        <tr>
          <th>Name</th>
          <th>Price</th>
          <th>Market Cap</th>
          <th>Price Change (24h)</th>
        </tr>
      </thead>
      <tbody id="tokenData">
        <!-- Table content will be added here dynamically -->
      </tbody>
    </table>
  </div>


  <script>
    // Fetch data from the API
fetch('https://api.coinranking.com/v2/coins?tags[]=drc-20')
  .then(response => response.json())
  .then(data => {
    const tokens = data.data.coins;

    // Sort tokens by highest price
    tokens.sort((a, b) => b.price - a.price);

    const tokenTable = document.getElementById('tokenData');
    const numbersContainer = document.querySelector('.numbers');

    tokens.forEach((token, index) => {
      const {symbol, price, marketCap, change, iconUrl, icoUrl } = token;

      // Limiting price to three figures
      const formattedPrice = parseFloat(price).toFixed(3);

      // Check if the price change is negative
      const isNegative = change < 0;

      const row = document.createElement('tr');

      // Apply red color if the price change is negative
      const priceColorStyle = isNegative ? 'color: red;' : '';

      row.innerHTML = `
        <td>${symbol}</td>
        <td  >$${formattedPrice}</td>
        <td>$${marketCap}</td>
        <td style="${priceColorStyle}">${change}%</td> `
      ;
      tokenTable.appendChild(row);

  
    });
  })
  .catch(error => console.error('Error:', error));
  </script>
 
</body>
</html>
